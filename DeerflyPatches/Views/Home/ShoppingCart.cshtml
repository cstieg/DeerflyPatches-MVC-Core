@model DeerflyPatches.ViewModels.ShoppingCart

@{
    ViewData["Title"] = "Shopping Cart";
}

<div class="container">
    <div class="row item-detail-header">
        <div class="col-xs-6 col-md-3 item-name">Product</div>
        <div class="hidden-xs col-md-2 item-unit-price">Unit Price</div>
        <div class="col-xs-2 col-md-1 item-quantity">Quantity</div>
        <div class="hidden-xs col-md-2 item-extended-price">Price</div>
        <div class="hidden-xs col-md-2 item-shipping">Shipping</div>
        <div class="col-xs-4 col-md-2 item-total-price">Total Price</div>
    </div>
    <hr />
@foreach (var item in Model.GetItems())
{
        <div class="row item-detail-line" id="item-@item.Item.ID">
            <div class="col-xs-6 col-md-3 item-name">@item.Item.Name</div>
            <div class="hidden-xs col-md-2 item-unit-price">$@item.UnitPrice</div>
            <div class="col-xs-2 col-md-1 item-quantity">
                <button onclick="decrementItemInShoppingCart(@item.Item.ID)">-</button>
                <span class="item-qty-ct"id="qty-@item.Item.ID">@item.Quantity</span>
                <button onclick="incrementItemInShoppingCart(@item.Item.ID)">+</button>
            </div>
            <div class="hidden-xs col-md-2 item-extended-price">$@item.ExtendedPrice()</div>
            <div class="hidden-xs col-md-2 item-shipping">$@item.Shipping</div>
            <div class="col-xs-4 col-md-2 item-total-price">$@item.TotalPrice()</div>
        </div>
}
    <hr />
    <div class="row item-detail-total">
        <div class="col-xs-6 col-md-3 item-name">TOTAL:</div>
        <div class="hidden-xs col-md-2 item-unit-price"></div>
        <div class="col-xs-2 col-md-1 item-quantity"></div>
        <div class="hidden-xs col-md-2 item-extended-price">$@Model.TotalExtendedPrice()</div>
        <div class="hidden-xs col-md-2 item-shipping">$@Model.TotalShipping()</div>
        <div class="col-xs-4 col-md-2 item-total-price">$@Model.GrandTotal()</div>
    </div>

    <div class="row" id="paypal-button"></div>

    <script>
        paypal.Button.render({

            env: 'sandbox', // 'sandbox', 'production'

            commit: true, // Show a 'Pay Now' button

            payment: function() {
                // Set up the payment here
                debugger;
            },

            onAuthorize: function(data, actions) {
                // Execute the payment here
                debugger;
           }

        }, '#paypal-button');
    </script>

</div>